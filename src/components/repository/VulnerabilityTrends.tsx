import {
  LineChart,
  Line,
  XAxis,
  YAxis,
  CartesianGrid,
  Tooltip,
  ResponsiveContainer,
  Legend,
} from "recharts";

const trendData = [
  { date: "Dec 1", high: 4, medium: 8, low: 12 },
  { date: "Dec 8", high: 3, medium: 7, low: 10 },
  { date: "Dec 15", high: 5, medium: 6, low: 9 },
  { date: "Dec 22", high: 2, medium: 5, low: 8 },
  { date: "Dec 29", high: 1, medium: 4, low: 7 },
  { date: "Jan 5", high: 1, medium: 3, low: 5 },
];

export function VulnerabilityTrends() {
  return (
    <div className="rounded-lg border border-border bg-card">
      <div className="border-b border-border px-4 py-3">
        <h2 className="text-sm font-medium text-foreground">
          Vulnerability Trends
        </h2>
        <p className="text-xs text-muted-foreground mt-0.5">
          Last 6 weeks
        </p>
      </div>
      <div className="p-4">
        <div className="h-64">
          <ResponsiveContainer width="100%" height="100%">
            <LineChart data={trendData}>
              <CartesianGrid
                strokeDasharray="3 3"
                stroke="hsl(var(--border))"
                vertical={false}
              />
              <XAxis
                dataKey="date"
                tick={{ fill: "hsl(var(--muted-foreground))", fontSize: 11 }}
                axisLine={{ stroke: "hsl(var(--border))" }}
                tickLine={false}
              />
              <YAxis
                tick={{ fill: "hsl(var(--muted-foreground))", fontSize: 11 }}
                axisLine={false}
                tickLine={false}
                width={30}
              />
              <Tooltip
                contentStyle={{
                  backgroundColor: "hsl(var(--card))",
                  border: "1px solid hsl(var(--border))",
                  borderRadius: "6px",
                  fontSize: "12px",
                }}
                labelStyle={{ color: "hsl(var(--foreground))" }}
              />
              <Legend
                wrapperStyle={{ fontSize: "12px" }}
                formatter={(value) => (
                  <span style={{ color: "hsl(var(--muted-foreground))" }}>
                    {value.charAt(0).toUpperCase() + value.slice(1)}
                  </span>
                )}
              />
              <Line
                type="monotone"
                dataKey="high"
                stroke="hsl(var(--severity-high))"
                strokeWidth={2}
                dot={{ fill: "hsl(var(--severity-high))", r: 3 }}
                activeDot={{ r: 5 }}
              />
              <Line
                type="monotone"
                dataKey="medium"
                stroke="hsl(var(--severity-medium))"
                strokeWidth={2}
                dot={{ fill: "hsl(var(--severity-medium))", r: 3 }}
                activeDot={{ r: 5 }}
              />
              <Line
                type="monotone"
                dataKey="low"
                stroke="hsl(var(--severity-low))"
                strokeWidth={2}
                dot={{ fill: "hsl(var(--severity-low))", r: 3 }}
                activeDot={{ r: 5 }}
              />
            </LineChart>
          </ResponsiveContainer>
        </div>
      </div>
    </div>
  );
}
